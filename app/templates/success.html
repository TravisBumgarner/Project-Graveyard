{% extends "base.html" %}

{% block content %}

<body>
    Stitch Size <button onclick="updateCSSVar({cssVar: '--stitch_size', incrementor: 1})">+</button><button onclick="updateCSSVar({cssVar: '--stitch_size', incrementor: -1})">-</button>
    Stitch Spacing <button onclick="updateCSSVar({cssVar: '--stitch_spacing', incrementor: 1})">+</button><button onclick="updateCSSVar({cssVar: '--stitch_spacing', incrementor: -1})">-</button>
    Stitch Style <button onclick="updateCSSVar({cssVar: '--stitch_style', incrementor: 5})">+</button><button onclick="updateCSSVar({cssVar: '--stitch_style', incrementor: -5})">-</button>
    <button onclick="getCSS()">Get CSS</button><textarea rows="50" cols="50" id="outputcss"></textarea>
    {{results|safe}}
</body>
<script>

let stitchSize = {{stitch_size}}
let stitchSpacing = {{stitch_spacing}}
let stitchStyle = {{stitch_style}}

function updateCSSVar({cssVar, incrementor}){
    const root = document.documentElement
    let cssVal

    switch(cssVar){
        case '--stitch_size':
            stitchSize += incrementor
            cssVal = stitchSize + 'px'
            break
        case '--stitch_spacing':
            stitchSpacing += incrementor
            cssVal = stitchSpacing + 'px'
            break
        case '--stitch_style':
            stitchStyle += incrementor
            cssVal = stitchStyle + '%'
            break
    }

    root.style.setProperty(cssVar,  cssVal);
}

function getCSS(){
    const wrapper = document.getElementById('wrapper')
    const textbox = document.getElementById('outputcss')
    textbox.value = wrapper.innerHTML
}

</script>
</html>
{% endblock %}